(self.webpackChunkdumi_test=self.webpackChunkdumi_test||[]).push([[13],{87696:function(){window._iconfont_svg_string_4417442='<svg><symbol id="icon-refresh" viewBox="0 0 1219 1024"><path d="M810.130286 814.908952a361.667048 361.667048 0 0 1-243.321905 65.145905l-12.092952-1.657905a918.966857 918.966857 0 0 1-22.820572-3.413333l-13.653333-3.462095a326.558476 326.558476 0 0 1-22.332953-5.705143l-10.24-3.413333a301.933714 301.933714 0 0 1-24.478476-9.167238c-1.706667-0.585143-3.462095-1.657905-5.12-2.340572a259.705905 259.705905 0 0 1-27.989333-13.702095c-0.536381 0-0.536381-0.536381-1.121524-0.536381a389.753905 389.753905 0 0 1-82.895238-62.854095l-1.072762-1.121524a501.906286 501.906286 0 0 1-21.747809-24.478476c-1.657905-1.706667-2.876952-3.998476-4.534858-5.705143a372.443429 372.443429 0 0 1-79.969523-230.156191H321.243429c2.243048 0 4.583619-1.072762 5.168761-3.413333a6.241524 6.241524 0 0 0 0-6.241524l-143.36-216.112762a6.144 6.144 0 0 0-5.168761-2.876952 5.753905 5.753905 0 0 0-5.12 2.925714l-142.238477 215.820191a6.241524 6.241524 0 0 0 0 6.241523c1.121524 1.706667 3.462095 3.462095 5.12 3.462096h84.553143c0 102.253714 31.402667 197.046857 85.089524 275.943619l1.706667 3.413333c5.656381 8.045714 11.459048 15.408762 17.700571 22.869333l6.924191 8.582096c8.533333 10.776381 18.236952 21.162667 27.355428 30.817523l2.925714 2.925715a467.821714 467.821714 0 0 0 107.910096 81.627428l3.462095 1.657905c11.50781 6.241524 22.869333 12.04419 34.864762 17.164191 2.925714 1.121524 5.705143 2.925714 8.582095 3.998476 10.24 4.047238 20.626286 8.045714 30.866286 11.507809 5.12 1.657905 9.703619 3.413333 14.823619 5.12 9.118476 2.925714 18.236952 5.12 27.940571 7.460572 6.241524 1.657905 12.580571 2.925714 18.822096 4.583619 2.925714 0.487619 5.12 1.072762 8.045714 1.657905 9.118476 1.657905 17.700571 2.340571 26.819047 3.413333 3.462095 0.585143 6.241524 1.121524 9.703619 1.121524 16.042667 1.706667 31.98781 2.925714 47.981715 2.925714a474.599619 474.599619 0 0 0 274.724571-88.015238c26.282667-18.236952 32.52419-54.808381 14.238476-81.091048-18.822095-26.965333-54.808381-33.743238-80.554666-14.921143m270.677333-302.762666c0-102.253714-31.402667-196.510476-84.504381-274.67581-0.585143-1.121524-1.121524-2.925714-2.243048-3.998476a511.658667 511.658667 0 0 0-21.162666-27.40419c-0.536381-1.121524-1.657905-2.243048-2.243048-3.462096a473.039238 473.039238 0 0 0-179.346286-136.533333 22.869333 22.869333 0 0 1-5.65638-2.925714c-10.825143-4.583619-22.28419-8.582095-33.743239-12.580572-3.998476-1.121524-8.045714-2.925714-12.580571-3.998476a461.628952 461.628952 0 0 0-30.329905-8.045714c-5.656381-1.121524-11.459048-2.925714-17.115428-3.998476a196.510476 196.510476 0 0 1-8.045715-1.657905c-7.460571-1.121524-15.36-1.706667-22.820571-2.925714-5.12-0.536381-10.24-1.657905-16.091429-2.340572a440.807619 440.807619 0 0 0-38.278095-1.657905c-2.340571 0-4.583619-0.536381-6.92419-0.536381h-1.121524c-97.670095 0-192.463238 29.744762-274.090667 87.966477a58.416762 58.416762 0 0 0-14.287238 81.091047c18.285714 26.331429 54.272 32.52419 80.554667 14.287238a360.448 360.448 0 0 1 243.809524-65.194666c3.462095 0.585143 6.241524 1.121524 9.752381 1.121523 8.533333 1.121524 17.066667 2.340571 25.697523 3.998477 3.998476 0.585143 7.460571 1.706667 10.776381 2.340571 8.582095 1.706667 16.579048 4.047238 24.624762 6.241524a36.717714 36.717714 0 0 1 7.460572 2.925714c9.167238 2.876952 18.285714 6.241524 27.40419 10.24 1.121524 0.536381 1.657905 1.121524 2.925714 1.121524a365.031619 365.031619 0 0 1 137.654858 104.448s0.536381 0.585143 0.53638 1.121524a368.64 368.64 0 0 1 82.895239 234.154666h-84.553143c-2.340571 0-4.534857 1.121524-5.12 3.413334-0.536381 2.243048-1.121524 4.583619 0 6.290285l142.238476 216.30781c1.121524 1.657905 2.925714 2.925714 5.12 2.925714a5.753905 5.753905 0 0 0 5.12-2.925714l142.287238-215.868952a6.241524 6.241524 0 0 0 0-6.241524c-1.121524-1.657905-3.462095-3.413333-5.168762-3.413334l-83.382857 0.390096z"  ></path></symbol></svg>',function(gn){var i=(i=document.getElementsByTagName("script"))[i.length-1],bn=i.getAttribute("data-injectcss"),i=i.getAttribute("data-disable-injectsvg");if(!i){var dn,l,Cn,R,pn,K=function(D,z){z.parentNode.insertBefore(D,z)};if(bn&&!gn.__iconfont__svg__cssinject__){gn.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(ln){console&&console.log(ln)}}dn=function(){var D,z=document.createElement("div");z.innerHTML=gn._iconfont_svg_string_4417442,(z=z.getElementsByTagName("svg")[0])&&(z.setAttribute("aria-hidden","true"),z.style.position="absolute",z.style.width=0,z.style.height=0,z.style.overflow="hidden",z=z,(D=document.body).firstChild?K(z,D.firstChild):D.appendChild(z))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(dn,0):(l=function(){document.removeEventListener("DOMContentLoaded",l,!1),dn()},document.addEventListener("DOMContentLoaded",l,!1)):document.attachEvent&&(Cn=dn,R=gn.document,pn=!1,Q(),R.onreadystatechange=function(){R.readyState=="complete"&&(R.onreadystatechange=null,wn())})}function wn(){pn||(pn=!0,Cn())}function Q(){try{R.documentElement.doScroll("left")}catch(ln){return void setTimeout(Q,50)}wn()}}(window)},27013:function(gn,bn,i){"use strict";i.r(bn),i.d(bn,{AutoLoadingButton:function(){return te},Ellipsis:function(){return mn},MultiExpand:function(){return Ke},PuzzleCaptcha:function(){return me},smoothScroll:function(){return Se}});var dn=i(57213),l=i.n(dn),Cn=i(25359),R=i.n(Cn),pn=i(49811),K=i.n(pn),wn=i(54306),Q=i.n(wn),ln=i(12342),D=i.n(ln),z=i(19930),ne=i(58338),P=i(85170),o=i(43010),ee=["children","onClick"],te=function(r){var a=r.children,e=r.onClick,t=D()(r,ee),n=(0,z.Z)(!1),s=Q()(n,2),d=s[0],u=s[1],h=function(v){return!!(v&&v.then)},x=function(){var b=K()(R()().mark(function v(){var p;return R()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(typeof e=="function"){f.next=2;break}return f.abrupt("return");case 2:if(p=e(),p){f.next=5;break}return f.abrupt("return");case 5:if(h(p)){f.next=7;break}return f.abrupt("return");case 7:u(!0),p.then(function(){u(!1)},function(w){return u(!1),Promise.reject(w)});case 9:case"end":return f.stop()}},v)}));return function(){return b.apply(this,arguments)}}();return(0,o.jsx)(ne.ZP,l()(l()({},t),{},{loading:d,onClick:x,children:a}))},ae=i(84875),q=i.n(ae),Hn=function(a){return new Promise(function(e){setTimeout(function(){e(!0)},a)})},re=navigator.userAgent.indexOf("Firefox")>=0&&navigator.userAgent.indexOf("Windows")>=0,j=function(a,e){return Math.ceil(Math.random()*(e-a)+a)},ie=function(a,e){var t=document.createElement("canvas"),n=t.getContext("2d");if(!n)return"";t.width=a,t.height=e,n.fillStyle=`rgb(
    `.concat(j(100,255),`,
    `).concat(j(100,255),`,
    `).concat(j(100,255),`
  )`),n.fillRect(0,0,a,e);for(var s=0;s<12;s++)if(n.fillStyle=`rgb(
      `.concat(j(100,255),`,
      `).concat(j(100,255),`,
      `).concat(j(100,255),`
    )`),n.strokeStyle=`rgb(
      `.concat(j(100,255),`,
      `).concat(j(100,255),`,
      `).concat(j(100,255),`
    )`),j(0,2)>1)n.save(),n.rotate(j(-90,90)*Math.PI/180),n.fillRect(j(-20,t.width-20),j(-20,t.height-20),j(10,t.width/2+10),j(10,t.height/2+10)),n.restore();else{n.beginPath();var d=j(-Math.PI,Math.PI);n.arc(j(0,t.width),j(0,t.height),j(10,t.height/2+10),d,d+Math.PI*1.5),n.closePath(),n.fill()}return t.toDataURL("image/png")},le=function(a,e,t){return{x:j(t+20,a-t-20),y:j(20,e-t-20)}},Ln=function(a,e,t){if(a){var n=t/4,s=n/2;a.beginPath(),a.moveTo(e.x,e.y),a.lineTo(e.x+n,e.y),a.arcTo(e.x+n,e.y-s,e.x+n+s,e.y-s,s),a.arcTo(e.x+n+n,e.y-n/2,e.x+n+n,e.y,n/2),a.lineTo(e.x+n+n+n,e.y),a.lineTo(e.x+n+n+n,e.y+n),a.arcTo(e.x+n+n+n+n/2,e.y+n,e.x+n+n+n+n/2,e.y+n+n/2,n/2),a.arcTo(e.x+n+n+n+n/2,e.y+n+n,e.x+n+n+n,e.y+n+n,n/2),a.lineTo(e.x+n+n+n,e.y+n+n+n),a.lineTo(e.x,e.y+n+n+n),a.lineTo(e.x,e.y+n+n),a.arcTo(e.x+n/2,e.y+n+n,e.x+n/2,e.y+n+n/2,n/2),a.arcTo(e.x+n/2,e.y+n,e.x,e.y+n,n/2),a.lineTo(e.x,e.y),a.closePath()}},se=i(92935),In=i.n(se),En=i(75177),Zn,oe=En.zo.section(Zn||(Zn=In()([`
  .puzzle-captcha-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .puzzle-captcha-mask {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background-color: rgba(0, 0, 0, 0.3);
    opacity: 0;
    pointer-events: none;
    user-select: none;
    transition: opacity 200ms;
    z-index: 999;

    &.visible {
      opacity: 1;
      pointer-events: auto;
    }
  }

  .puzzle-captcha-body {
    width: fit-content;
    height: fit-content;
    user-select: none;
    background-color: #fff;
    padding: 16px;
    border-radius: 8px;
    z-index: 1000;
    box-shadow: 0 0 3px 2px rgba(0, 0, 0, 0.06);

    .title-wrap {
      z-index: 1002;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;

      .title {
        margin: 0;
        font-size: 18px;
        color: rgba(0, 0, 0, 0.85);
        letter-spacing: 0.5px;
        font-weight: 500;
      }

      > .reset {
        position: absolute;
        right: 0;
        cursor: pointer;
        font-size: 22px;
        color: #1296db;
        font-weight: bold;
        /* transform: rotateY(180deg); */
      }
    }

    .canvas-wrap {
      position: relative;
      overflow: hidden;

      .loading {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        position: absolute;
        background-color: #e6e6e6;
        z-index: 1001;
      }

      .bg {
        position: absolute;
      }

      .gap {
        position: absolute;
      }

      .result-tip {
        width: 100%;
        margin: 0;
        padding: 0;
        height: 24px;
        z-index: 1001;
        position: absolute;
        bottom: 0;
        color: #fff;
        font-size: 12px;
        line-height: 24px;
        text-align: center;
        opacity: 0;
        transform: translateY(24px);
        transition: transform 200ms;

        &.result-visible {
          opacity: 0.95;
          transform: translateY(0);
        }

        &.success-tip {
          background-color: #60b25e;
        }

        &.fail-tip {
          background-color: #dd725b;
        }
      }
    }

    .slider-wrap {
      margin-top: 12px;
      height: 28px;
      background-color: #eaebf0;
      box-shadow: inset 0px 0px 12px 0px rgba(0, 0, 0, 0.16);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;

      .slider {
        position: absolute;
        left: 0;
        border-radius: 19px;
        background: linear-gradient(
          360deg,
          #f4f4f4 0%,
          #fefefe 50%,
          #f4f4f4 100%
        );
        border: 1px solid rgba(0, 0, 0, 0.1);
        width: 50px;
        height: 36px;
        cursor: pointer;
        z-index: 1002;
        display: flex;
        align-items: center;
        justify-content: center;

        &:hover {
          .slider-icon {
            color: #1890ff !important;
          }
        }
      }

      .slider-path {
        z-index: 1001;
        position: absolute;
        left: 0;
        height: 32px;
        background: #adc6ff;
        box-shadow: inset 0px 0px 12px 0px rgba(0, 0, 0, 0.16);
        border-radius: 16px;
      }

      .slider-tip {
        font-weight: 400;
        font-size: 14px;
        color: rgba(0, 0, 0, 0.45);
      }
    }
  }
`]))),zn=i(8032),ue=i(10427),ce=i(63833),de=i(96393),ve=i(87696),fe=i.n(ve),he=(0,de.Z)({scriptUrl:fe()}),ge={refresh:"icon-refresh"},pe="puzzle-captcha",me=function(r){var a=r.width,e=a===void 0?320:a,t=r.height,n=t===void 0?180:t,s=r.useMask,d=s===void 0?!1:s,u=r.visible,h=u===void 0?!1:u,x=r.title,b=x===void 0?"\u5B89\u5168\u9A8C\u8BC1":x,v=r.sliderTip,p=v===void 0?"\u6ED1\u52A8\u5B8C\u6210\u62FC\u56FE":v,L=r.successMsg,f=L===void 0?"\u9A8C\u8BC1\u901A\u8FC7":L,w=r.failMsg,S=w===void 0?"\u9A8C\u8BC1\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5":w,I=r.onSuccess,F=r.onFail,nn=r.onClose,jn=r.useFetch,sn=jn===void 0?!1:jn,vn=r.fetchData,B=58,en=50,tn=3,on=(e-B)/(e-en),un=(0,P.useRef)(null),Sn=(0,P.useRef)(null),c=null,W=null,Z=!1,A=(0,P.useRef)({x:0,y:0}),an={bgImg:"",gapImg:"",y:0},xn=(0,P.useRef)({x:0}),Dn=(0,P.useState)({x:0}),fn=Q()(Dn,2),$=fn[0],N=fn[1],rn=(0,P.useState)({valid:!1,resultMsg:"",isMoving:!1,loading:!1}),G=Q()(rn,2),T=G[0],M=G[1],U=(0,zn.Z)(T),Y=(0,zn.Z)($),H=function(m){if(W&&c&&un.current){A.current=le(e,n,B),Ln(c,A.current,B),re?(c.clip(),c.save(),c.shadowOffsetX=0,c.shadowOffsetY=0,c.shadowColor="#000",c.shadowBlur=tn,c.fill()):(c.shadowOffsetX=0,c.shadowOffsetY=0,c.shadowColor="#000",c.shadowBlur=tn,c.fill(),c.clip()),c.drawImage(m,0,0,e,n),c.restore();var y=c.getImageData(0,0,e,n);W.putImageData(y,e,n),W.drawImage(un.current,0-A.current.x+tn,0,e,n),c.restore(),c.clearRect(0,0,e,n),c.save(),Ln(c,A.current,B),c.globalAlpha=.8,c.fillStyle="#fff",c.fill(),c.restore(),c.save(),c.globalCompositeOperation="source-atop",Ln(c,A.current,B),c.arc(A.current.x+B/2,A.current.y+B/2,B*2,0,Math.PI*2,!0),c.shadowColor="#000",c.shadowOffsetX=2,c.shadowOffsetY=2,c.shadowBlur=B/3,c.fill(),c.restore(),c.save(),c.globalCompositeOperation="destination-over",c.drawImage(m,0,0,e,n),c.restore()}},Fn=function(){var m,y,E,g;c=((m=un.current)===null||m===void 0?void 0:m.getContext("2d"))||null,(y=c)===null||y===void 0||y.clearRect(0,0,e,n),W=((E=Sn.current)===null||E===void 0?void 0:E.getContext("2d"))||null,(g=W)===null||g===void 0||g.clearRect(0,0,e,n);var C=new Image(e,n);C.src=an.bgImg,C.onload=function(){var J;if((J=c)===null||J===void 0||J.save(),!sn)H(C),M(function(_e){return l()(l()({},_e),{},{loading:!1})});else{var Yn;(Yn=c)===null||Yn===void 0||Yn.drawImage(C,0,0,e,n)}}},Wn=function(){if(sn){var m=new Image(e,n);m.crossOrigin="anonymous",m.src=an.gapImg,m.onload=function(){var y;(y=W)===null||y===void 0||y.drawImage(m,0,an.y)}}},An=function(){var k=K()(R()().mark(function m(){var y;return R()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(M(function(C){return l()(l()({},C),{},{loading:!0})}),!sn){g.next=12;break}return g.next=4,vn==null?void 0:vn();case 4:if(g.t0=g.sent,g.t0){g.next=7;break}g.t0=an;case 7:an=g.t0,M(function(C){return l()(l()({},C),{},{loading:!1})}),Wn(),g.next=14;break;case 12:y=ie(e,n),an.bgImg=y;case 14:Fn();case 15:case"end":return g.stop()}},m)}));return function(){return k.apply(this,arguments)}}(),V=function(){var k=K()(R()().mark(function m(){return R()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return M(function(g){return l()(l()({},g),{},{resultMsg:"",loading:!1})}),E.next=3,An();case 3:M(function(g){return l()(l()({},g),{},{isMoving:!1})}),Z=!1,N({x:0});case 6:case"end":return E.stop()}},m)}));return function(){return k.apply(this,arguments)}}(),Mn=function(m){var y;m.stopPropagation(),!Z&&(M(l()(l()({},T),{},{isMoving:!0})),xn.current={x:m.clientX||((y=m.touches)===null||y===void 0?void 0:y[0].clientX)||0})},cn=function(m){var y,E;if(U.current.isMoving){var g={x:(m.clientX||((y=m.touches)===null||y===void 0||(E=y[0])===null||E===void 0?void 0:E.clientX)||0)-xn.current.x},C=e-en;g.x>C&&(g.x=C),g.x<0&&(g.x=0),N(g)}},Rn=function(){var m=Y.current.x*on;return Math.abs(A.current.x-m)<10},yn=function(){var k=K()(R()().mark(function m(){var y,E;return R()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(y=!1,sn){C.next=5;break}y=Rn(),C.next=8;break;case 5:return C.next=7,(E=r.validator)===null||E===void 0?void 0:E.call(r,{x:Math.ceil(Y.current.x*on)});case 7:y=C.sent;case 8:if(M(function(J){return l()(l()({},J),{},{valid:y})}),Z=!0,!y){C.next=17;break}return M(function(J){return l()(l()({},J),{},{resultMsg:f})}),C.next=14,Hn(800);case 14:I==null||I(),C.next=22;break;case 17:return M(function(J){return l()(l()({},J),{},{resultMsg:S})}),C.next=20,Hn(800);case 20:F==null||F(),V();case 22:case"end":return C.stop()}},m)}));return function(){return k.apply(this,arguments)}}(),hn=function(){var k=K()(R()().mark(function m(y){return R()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(y.stopPropagation(),U.current.isMoving){g.next=3;break}return g.abrupt("return");case 3:if(M(function(C){return l()(l()({},C),{},{isMoving:!1})}),!(Y.current.x<=0)){g.next=6;break}return g.abrupt("return");case 6:return g.next=8,yn==null?void 0:yn();case 8:case"end":return g.stop()}},m)}));return function(y){return k.apply(this,arguments)}}();(0,P.useEffect)(function(){h&&(V==null||V())},[h]),(0,P.useEffect)(function(){return d||V(),document.addEventListener("mousemove",cn),document.addEventListener("mouseup",hn),document.addEventListener("touchmove",cn),document.addEventListener("touchend",hn),function(){document.removeEventListener("mousemove",cn),document.removeEventListener("mouseup",hn),document.removeEventListener("touchmove",cn),document.removeEventListener("touchend",hn)}},[]);var Xn=q()("".concat(pe),{}),Qe=q()("puzzle-captcha-mask",{visible:d&&h}),qe=q()("puzzle-captcha-body",{"puzzle-captcha-center":d});return(0,o.jsxs)(oe,{className:Xn,style:{display:d&&h||!d?"block":"none"},children:[(0,o.jsx)("div",{className:Qe,onClick:nn}),(0,o.jsxs)("div",{className:qe,children:[(0,o.jsxs)("div",{className:"title-wrap",children:[(0,o.jsx)("h1",{className:"title",children:b}),(0,o.jsx)(he,{type:ge.refresh,onClick:V,className:"reset"})]}),(0,o.jsxs)("div",{className:"canvas-wrap",style:{width:"".concat(e,"px"),height:"".concat(n,"px")},children:[(0,o.jsx)("div",{style:{display:T.loading?"block":"none"},className:"loading",children:(0,o.jsx)(ue.Z,{style:{fontSize:"26px",color:"#1890ff"}})}),(0,o.jsx)("canvas",{ref:un,className:"bg",width:e,height:n}),(0,o.jsx)("canvas",{ref:Sn,className:"gap",width:e,height:n,style:{transform:"translateX(".concat($.x*on,"px)")}}),(0,o.jsx)("p",{className:q()("result-tip",{"result-visible":T.resultMsg,"success-tip":T.valid,"fail-tip":!T.valid}),children:T.resultMsg})]}),(0,o.jsxs)("div",{className:"slider-wrap",children:[(0,o.jsx)("div",{className:"slider",style:{transform:"translateX(".concat($.x,"px)")},onMouseDown:Mn,onTouchStart:Mn,children:(0,o.jsx)(ce.Z,{className:"slider-icon",style:{color:T.isMoving||T.resultMsg?"#1890ff":"rgba(0,0,0,0.65)"}})}),(0,o.jsx)("div",{className:"slider-path",style:{width:"".concat($.x+en,"px")}}),(0,o.jsx)("span",{style:{display:$.x<=0?"block":"none"},className:"slider-tip",children:p})]})]})]})},Nn=!!(typeof window!="undefined"&&window),xe=250,O=Nn?window:{},ye=Nn?document:{},be=O.scroll||O.scrollTo,Gn=O.performance&&O.performance.now?O.performance.now.bind(O.performance):Date.now;function Ce(r,a){this.scrollLeft=r,this.scrollTop=a}function we(r){return .5*(1-Math.cos(Math.PI*r))}function Un(r,a){var e=Gn(),t=(e-r.startTime)/r.duration;t=t>1?1:t;var n=we(t),s=r.startX+(r.x-r.startX)*n,d=r.startY+(r.y-r.startY)*n;r.method.call(r.scrollable,s,d),s!==r.x||d!==r.y?requestAnimationFrame(Un.bind(O,r,a)):a()}function Te(r,a,e){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:xe;return new Promise(function(n,s){Nn||s();var d,u,h,x,b=Gn();r===ye.body||r===O?(d=O,u=O.scrollX||O.pageXOffset,h=O.scrollY||O.pageYOffset,x=be):(d=r,u=r.scrollLeft,h=r.scrollTop,x=Ce),Un({duration:t,scrollable:d,method:x,startTime:b,startX:u,startY:h,x:a,y:e},n)})}var je=Te,Se=je,Me=i(54689),Vn=i.n(Me),Re=i(52510),X=i.n(Re),Pn=i(57429),Le=i(95237),Ie=i(21140),Ee=i.n(Ie),ze=i(63466),Ne=i.n(ze),Pe=i(68608),_=i.n(Pe),$e=i(58853),Oe=i.n($e),ke=i(38888),Be=i.n(ke),De=i(65962),Fe=["text","length","tooltip","fullWidthRecognition"],We=["children","lines","length","className","tooltip","fullWidthRecognition"],Tn=document.body.style.webkitLineClamp!==void 0,$n={overflowWrap:"break-word",wordWrap:"break-word"},Ae=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return a.split("").reduce(function(e,t){var n=t.charCodeAt(0);return n>=0&&n<=128?e+1:e+2},0)},Xe=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,t=0;return a.split("").reduce(function(n,s){var d=s.charCodeAt(0);return d>=0&&d<=128?t+=1:t+=2,t<=e?n+s:n},"")},On=function(a){var e=a.tooltip,t=a.overlayStyle,n=a.title,s=a.children;if(e){var d=e===!0?{overlayStyle:t,title:n}:l()(l()({},e),{},{overlayStyle:t,title:n});return(0,o.jsx)(De.Z,l()(l()({},d),{},{children:s}))}return s},Ye=function(a){var e=a.text,t=a.length,n=a.tooltip,s=a.fullWidthRecognition,d=D()(a,Fe);if(typeof e!="string")throw new Error("Ellipsis children must be string.");var u=s?Ae(e):e.length;if(u<=t||t<0)return(0,o.jsx)("span",l()(l()({},d),{},{children:e}));var h="...",x;t-h.length<=0?x="":x=s?Xe(e,t):e.slice(0,t);var b=n?{}:l()({},d);return On({tooltip:n,overlayStyle:$n,title:e,children:(0,o.jsxs)("span",l()(l()({},b),{},{children:[x,h]}))})},mn=function(r){Oe()(e,r);var a=Be()(e);function e(){var t;Ee()(this,e);for(var n=arguments.length,s=new Array(n),d=0;d<n;d++)s[d]=arguments[d];return t=a.call.apply(a,[this].concat(s)),X()(_()(t),"state",{text:"",targetCount:0}),X()(_()(t),"computeLine",function(){var u=t.props.lines;if(u&&!Tn){var h=t.shadowChildren.innerText||t.shadowChildren.textContent,x=parseInt(getComputedStyle(t.root).lineHeight,10),b=u*x;t.content.style.height="".concat(b,"px");var v=t.shadowChildren.offsetHeight,p=t.shadow.firstChild;if(v<=b){t.setState({text:h,targetCount:h.length});return}var L=h.length,f=Math.ceil(L/2),w=t.bisection(b,f,0,L,h,p);t.setState({text:h,targetCount:w})}}),X()(_()(t),"bisection",function(u,h,x,b,v,p){var L="...",f=h,w=b,S=x;p.innerHTML=v.substring(0,f)+L;var I=p.offsetHeight;return I<=u?(p.innerHTML=v.substring(0,f+1)+L,I=p.offsetHeight,I>u||f===S?f:(S=f,w-S===1?f=1+S:f=Math.floor((w-S)/2)+S,t.bisection(u,f,S,w,v,p))):f-1<0?f:(p.innerHTML=v.substring(0,f-1)+L,I=p.offsetHeight,I<=u?f-1:(w=f,f=Math.floor((w-S)/2)+S,t.bisection(u,f,S,w,v,p)))}),X()(_()(t),"handleRoot",function(u){t.root=u}),X()(_()(t),"handleContent",function(u){t.content=u}),X()(_()(t),"handleNode",function(u){t.node=u}),X()(_()(t),"handleShadow",function(u){t.shadow=u}),X()(_()(t),"handleShadowChildren",function(u){t.shadowChildren=u}),t}return Ne()(e,[{key:"componentDidMount",value:function(){this.node&&this.computeLine()}},{key:"componentDidUpdate",value:function(n){var s=this.props.lines;s!==n.lines&&this.computeLine()}},{key:"render",value:function(){var n=this.state,s=n.text,d=n.targetCount,u=this.props,h=u.children,x=u.lines,b=u.length,v=u.className,p=u.tooltip,L=u.fullWidthRecognition,f=D()(u,We),w=q()("ellipsis",v,{lines:x&&!Tn,"line-clamp":x&&Tn});if(!x&&!b)return(0,o.jsx)("span",l()(l()({className:w},f),{},{children:h}));if(!x)return(0,o.jsx)(Ye,l()({className:w,length:b,text:h||"",tooltip:p,fullWidthRecognition:L},f));var S="antd-pro-ellipsis-".concat("".concat(new Date().getTime()).concat(Math.floor(Math.random()*100)));if(Tn){var I="#".concat(S,"{-webkit-line-clamp:").concat(x,";-webkit-box-orient: vertical;}"),F=(0,o.jsxs)("div",l()(l()({id:S,className:w},f),{},{children:[(0,o.jsx)("style",{children:I}),h]}));return On({tooltip:p,overlayStyle:$n,title:h,children:F})}var nn=(0,o.jsxs)("span",{ref:this.handleNode,children:[d>0&&s.substring(0,d),d>0&&d<s.length&&"..."]});return(0,o.jsx)("div",l()(l()({},f),{},{ref:this.handleRoot,className:w,children:(0,o.jsxs)("div",{ref:this.handleContent,children:[On({tooltip:p,overlayStyle:$n,title:s,children:nn}),(0,o.jsx)("div",{className:"shadow",ref:this.handleShadowChildren,children:h}),(0,o.jsx)("div",{className:"shadow",ref:this.handleShadow,children:(0,o.jsx)("span",{children:s})})]})}))}}]),e}(P.Component),Jn,Kn,He=En.zo.section(Jn||(Jn=In()([`
  display: flex;
  align-items: center;
  width: fit-content;
  overflow: hidden;

  .cp {
    cursor: pointer;
  }

  .df {
    display: flex !important;
  }

  .mr4 {
    margin-right: 4px;
  }

  .mb4 {
    margin-bottom: 4px;
  }

  .groupTitle {
    font-size: 12px;
    color: rgba(0, 0, 0, 45%);
    margin: 4px 0;
  }

  .content {
    padding-right: 8px;
    overflow: hidden auto;
    max-width: 260px;
  }

  .contentItem {
    padding: 4px;
    display: flex;

    /* line-height: 1.4; */

    /* border-bottom: 1px solid rgba(0, 0, 0, 6%); */
    white-space: nowrap;

    &:last-of-type {
      border: none;
    }

    &:hover {
      background-color: #f5f7fa;
    }
  }

  .contentTag {
    margin-bottom: 4px;
  }
`]))),Ze=(0,En.vJ)(Kn||(Kn=In()([`
  .popoverReset {
    .ant-popover-inner-content {
      width: initial;
    }

    .ant-popover-title {
      min-width: initial;
    }

    .content {
      padding-right: 8px;
      overflow: hidden auto;
      max-width: 260px;
    }

  .contentItem {
    padding: 4px;
    display: flex;

    /* line-height: 1.4; */
    border-bottom: 1px solid rgba(0, 0, 0, 6%);
    white-space: nowrap;

    &:last-of-type {
      border: none;
    }

    &:hover {
      background-color: #f5f7fa;
    }
  }

    .contentTag {
      margin-bottom: 4px;
    }
  }
`]))),Ge=i(45653),Qn=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Promise(function(e){setTimeout(function(){e(!0)},a)})},kn=i(32699),Bn={tag:"tag",text:"text"},Ue=["className"],Ve=["className"],qn=30,_n=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=a.data,t=e===void 0?[]:e,n=a.mode,s=a.onClickItem,d=a.tagProps,u=d===void 0?{}:d,h=arguments.length>1?arguments[1]:void 0,x=u.className,b=D()(u,Ue);return(0,o.jsx)("section",{className:"content",style:{maxHeight:"200px"},children:t.map(function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0,L=n===Bn.tag;if(L){var f=q()("contentTag",X()({cp:v.canClick},x,!!x));return(0,o.jsx)(Pn.Z,l()(l()({color:"blue",className:f},b),{},{onClick:function(){var I,F;(I=s[0])===null||I===void 0||I.call(s,v,p),(F=s[1])===null||F===void 0||F.call(s)},title:h&&v.label,children:(0,o.jsx)(mn,{fullWidthRecognition:!0,style:{display:"inline-flex"},length:qn,children:v.label})}),v.label)}var w=q()("contentItem",{cp:v.canClick});return(0,o.jsx)(mn,{className:w,onClick:function(){return s==null?void 0:s(v,p)},fullWidthRecognition:!0,length:qn,title:h&&v.label,children:v.label},v.label)})})},Je=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=a.data,t=e===void 0?[]:e,n={},s=!0,d=Vn()(t),u;try{for(d.s();!(u=d.n()).done;){var h=u.value,x=h||{},b=x.tagType,v=x.tagTypeLabel;if(!(b||v)){s=!1;break}n[b]||(n[b]={},n[b].optionList=[]),n[b].label=v,n[b].optionList.push(h)}}catch(p){d.e(p)}finally{d.f()}return s?Object.values(n).map(function(p){return(0,o.jsxs)("section",{children:[(0,o.jsx)("div",{className:"groupTitle",children:p.label}),(0,o.jsx)(_n,l()(l()({},a),{},{data:p.optionList||[]}))]},p.label)}):(0,o.jsx)(_n,l()({},a))},Ke=function(r){var a=r.data,e=a===void 0?[]:a,t=r.title,n=t===void 0?"":t,s=r.trigger,d=s===void 0?"hover":s,u=r.mode,h=u===void 0?Bn.tag:u,x=r.empty,b=x===void 0?"-":x,v=r.onClickItem,p=r.tagProps,L=p===void 0?{}:p,f=r.moreTagProps,w=f===void 0?{}:f,S=r.showTitle,I=S===void 0?!0:S,F=r.style,nn=r.maxSize,jn=(0,P.useState)(!1),sn=Q()(jn,2),vn=sn[0],B=sn[1],en=h===Bn.tag,tn=(0,P.useRef)([]),on=(0,P.useRef)(null),un=(0,P.useRef)(null),Sn=(0,P.useState)(0),c=Q()(Sn,2),W=c[0],Z=c[1],A=(0,zn.Z)(W),an=(0,Ge.Z)(e),xn=function(){var $,N=($=un.current)===null||$===void 0?void 0:$.parentElement,rn=N==null?void 0:N.getBoundingClientRect(),G=A.current,T=0;if(!(rn!=null&&rn.width)||!on.current||!N||tn.current.length<=0||e.length<=0)return G;var M=0,U=Vn()(tn.current),Y;try{for(U.s();!(Y=U.n()).done;){var H=Y.value,Fn=H.getBoundingClientRect(),Wn=on.current.getBoundingClientRect(),An=getComputedStyle(H),V=An.marginRight,Mn=V===void 0?"":V,cn=getComputedStyle(N),Rn=cn.paddingRight,yn=Rn===void 0?"":Rn,hn=cn.paddingLeft;if(M=M+Fn.width,M+parseFloat(Mn)*(T+2)+Wn.width+parseFloat(yn)+parseFloat(hn)>rn.width){G=T;break}T+=1}}catch(Xn){U.e(Xn)}finally{U.f()}return G};(0,P.useLayoutEffect)(function(){if(typeof nn=="number"){Z(nn);return}A.current||Z(e.length),!(0,kn.isEqual)(an,e)&&Qn(100).then(K()(R()().mark(function fn(){return R()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,Qn(50);case 2:Z(xn()),window.addEventListener("resize",(0,kn.throttle)(function(){Z(xn())},300));case 4:case"end":return N.stop()}},fn)})))},[e]);var Dn=function(){var $,N=L.className,rn=D()(L,Ve),G=q()("contentItem",X()({cp:($=e[0])===null||$===void 0?void 0:$.canClick,mr4:!en},N,!!N));return e.slice(0,W||1).map(function(T,M){var U=W===0;return en?(0,o.jsx)(Pn.Z,l()(l()({ref:function(H){H&&(tn.current[M]=H)},className:G,color:"blue"},rn),{},{onClick:function(){return v==null?void 0:v(T,M)},title:I&&T.label,children:(0,o.jsx)(mn,{fullWidthRecognition:!0,children:T.label})}),T.label):(0,o.jsx)("span",{ref:function(H){H&&(tn.current[M]=H)},className:G,onClick:function(){return v==null?void 0:v(T,M)},title:I&&T.label,children:(0,o.jsx)(mn,{fullWidthRecognition:!0,length:U?10:void 0,children:T.label})},T.label)})};return(0,kn.isEmpty)(e)?b:(0,o.jsxs)(He,{ref:un,style:F,children:[Dn(),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Ze,{}),(0,o.jsx)(Le.Z,{placement:"rightTop",overlayClassName:"popoverReset",trigger:d,title:n,open:vn,onOpenChange:B,content:(0,o.jsx)(Je,{tagProps:L,data:e,onClickItem:[v,function(){return vn&&B(!1)}],mode:h}),children:(0,o.jsx)(Pn.Z,l()(l()({style:{visibility:e.length>1&&W!==e.length?"visible":"hidden",position:nn===e.length?"fixed":"unset",right:nn===e.length?"-999999px":"unset"},ref:on,className:"cp",color:en?void 0:"blue"},w),{},{children:en?"+".concat(e.length):e.length}))})]})]})}}}]);
